{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\martu\\\\github\\\\GoogleBooksReact\\\\google-books-react\\\\client\\\\src\\\\components\\\\BookContainer\\\\index.js\";\nimport React, { Component } from \"react\";\nimport Container from \"./Container\";\nimport Row from \"./Row\";\nimport Col from \"./Col\";\nimport Card from \"./Card\";\nimport SearchForm from \"./SearchForm\";\nimport BookDetail from \"./BookDetail\";\nimport API from \"../../utils/API\";\nimport \"./style.css\";\n\nclass BookContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      result: {},\n      search: \"\",\n      title: \"\",\n      authors: \"\",\n      thumbnail: \"\",\n      description: \"\",\n      link: \"\",\n      redirect: false\n    };\n\n    this.searchBooks = query => {\n      API.search(query).then(res => this.setState({\n        result: res.data,\n        title: res.data.items[1].volumeInfo.title,\n        authors: res.data.items[1].volumeInfo.authors,\n        thumbnail: res.data.items[1].volumeInfo.imageLinks.thumbnail,\n        description: res.data.items[1].volumeInfo.description,\n        link: res.data.items[1].volumeInfo.previewLink\n      })).catch(err => console.log(err));\n    };\n\n    this.loadBooks = () => {\n      API.getBooks().then(res => this.setState({\n        books: res.data,\n        title: \"\",\n        authors: \"\",\n        description: \"\",\n        thumbnail: \"\",\n        link: \"\"\n      })).catch(err => console.log(err));\n    };\n\n    this.handleInputChange = event => {\n      const value = event.target.value;\n      const name = event.target.name;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleFormSubmit = event => {\n      event.preventDefault();\n      this.searchBooks(this.state.search);\n      console.log(this.state.result.items[0].volumeInfo.imageLinks.thumbnail);\n    };\n\n    this.handleLocation = () => {\n      window.open(this.state.link);\n    };\n\n    this.handleFormSave = event => {\n      if (this.state.title) {\n        API.saveBook({\n          title: this.state.title,\n          authors: this.state.authors,\n          description: this.state.description,\n          image: this.state.thumbnail,\n          thumbnail: this.state.thumbnail,\n          link: this.state.link\n        }).then(this.renderRedirect()).catch(err => console.log(err));\n      }\n    };\n\n    this.setRedirect = () => {\n      this.setState({\n        redirect: true\n      });\n    };\n\n    this.renderRedirect = () => {\n      if (this.state.redirect) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        });\n      }\n    };\n  }\n\n  // When this component mounts, search for the movie \"The Matrix\"\n  componentDidMount() {\n    this.searchBooks(\"Electric Blue Angels\");\n  }\n\n  render() {\n    return React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(Col, {\n      size: \"md-8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Card, {\n      heading: this.state.title || \"Search for a Book to Begin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, this.state.result ? React.createElement(BookDetail, {\n      title: this.state.title,\n      thumbnail: this.state.thumbnail,\n      authors: this.state.authors,\n      description: this.state.description,\n      link: this.state.link,\n      handleFormSave: this.handleFormSave,\n      handleLocation: this.handleLocation,\n      setRedirect: this.se,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }) : React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"No Results to Display\"))), React.createElement(Col, {\n      size: \"md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Card, {\n      heading: \"Search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(SearchForm, {\n      value: this.state.search,\n      handleInputChange: this.handleInputChange,\n      handleFormSubmit: this.handleFormSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default BookContainer;","map":{"version":3,"sources":["C:\\Users\\martu\\github\\GoogleBooksReact\\google-books-react\\client\\src\\components\\BookContainer\\index.js"],"names":["React","Component","Container","Row","Col","Card","SearchForm","BookDetail","API","BookContainer","state","result","search","title","authors","thumbnail","description","link","redirect","searchBooks","query","then","res","setState","data","items","volumeInfo","imageLinks","previewLink","catch","err","console","log","loadBooks","getBooks","books","handleInputChange","event","value","target","name","handleFormSubmit","preventDefault","handleLocation","window","open","handleFormSave","saveBook","image","renderRedirect","setRedirect","componentDidMount","render","se"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAO,aAAP;;AAEA,MAAMC,aAAN,SAA4BR,SAA5B,CAAsC;AAAA;AAAA;AAAA,SACpCS,KADoC,GAC5B;AACNC,MAAAA,MAAM,EAAE,EADF;AAENC,MAAAA,MAAM,EAAE,EAFF;AAGNC,MAAAA,KAAK,EAAE,EAHD;AAINC,MAAAA,OAAO,EAAE,EAJH;AAKNC,MAAAA,SAAS,EAAE,EALL;AAMNC,MAAAA,WAAW,EAAE,EANP;AAONC,MAAAA,IAAI,EAAE,EAPA;AAQNC,MAAAA,QAAQ,EAAE;AARJ,KAD4B;;AAAA,SAiBpCC,WAjBoC,GAiBtBC,KAAK,IAAI;AACrBZ,MAAAA,GAAG,CAACI,MAAJ,CAAWQ,KAAX,EACGC,IADH,CACQC,GAAG,IAAI,KAAKC,QAAL,CAAc;AAAEZ,QAAAA,MAAM,EAAEW,GAAG,CAACE,IAAd;AAC3BX,QAAAA,KAAK,EAAGS,GAAG,CAACE,IAAJ,CAASC,KAAT,CAAe,CAAf,EAAkBC,UAAlB,CAA6Bb,KADV;AAE3BC,QAAAA,OAAO,EAAGQ,GAAG,CAACE,IAAJ,CAASC,KAAT,CAAe,CAAf,EAAkBC,UAAlB,CAA6BZ,OAFZ;AAG3BC,QAAAA,SAAS,EAAGO,GAAG,CAACE,IAAJ,CAASC,KAAT,CAAe,CAAf,EAAkBC,UAAlB,CAA6BC,UAA7B,CAAwCZ,SAHzB;AAI3BC,QAAAA,WAAW,EAAGM,GAAG,CAACE,IAAJ,CAASC,KAAT,CAAe,CAAf,EAAkBC,UAAlB,CAA6BV,WAJhB;AAK3BC,QAAAA,IAAI,EAAGK,GAAG,CAACE,IAAJ,CAASC,KAAT,CAAe,CAAf,EAAkBC,UAAlB,CAA6BE;AALT,OAAd,CADf,EAQGC,KARH,CAQSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CARhB;AASD,KA3BmC;;AAAA,SA8BpCG,SA9BoC,GA8BxB,MAAM;AAChBzB,MAAAA,GAAG,CAAC0B,QAAJ,GACGb,IADH,CACQC,GAAG,IACP,KAAKC,QAAL,CAAc;AAAEY,QAAAA,KAAK,EAAEb,GAAG,CAACE,IAAb;AAAmBX,QAAAA,KAAK,EAAE,EAA1B;AAA8BC,QAAAA,OAAO,EAAE,EAAvC;AAA2CE,QAAAA,WAAW,EAAE,EAAxD;AAA4DD,QAAAA,SAAS,EAAE,EAAvE;AAA2EE,QAAAA,IAAI,EAAC;AAAhF,OAAd,CAFJ,EAIGY,KAJH,CAISC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAJhB;AAKD,KApCmC;;AAAA,SAsCpCM,iBAtCoC,GAsChBC,KAAK,IAAI;AAC3B,YAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B;AACA,YAAME,IAAI,GAAGH,KAAK,CAACE,MAAN,CAAaC,IAA1B;AACA,WAAKjB,QAAL,CAAc;AACZ,SAACiB,IAAD,GAAQF;AADI,OAAd;AAGD,KA5CmC;;AAAA,SA+CpCG,gBA/CoC,GA+CjBJ,KAAK,IAAI;AAC1BA,MAAAA,KAAK,CAACK,cAAN;AACA,WAAKvB,WAAL,CAAiB,KAAKT,KAAL,CAAWE,MAA5B;AACAmB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKtB,KAAL,CAAWC,MAAX,CAAkBc,KAAlB,CAAwB,CAAxB,EAA2BC,UAA3B,CAAsCC,UAAtC,CAAiDZ,SAA7D;AACD,KAnDmC;;AAAA,SAqDpC4B,cArDoC,GAqDnB,MAAM;AACrBC,MAAAA,MAAM,CAACC,IAAP,CAAY,KAAKnC,KAAL,CAAWO,IAAvB;AACC,KAvDiC;;AAAA,SA0DpC6B,cA1DoC,GA0DnBT,KAAK,IAAI;AACxB,UAAI,KAAK3B,KAAL,CAAWG,KAAf,EAAsB;AACpBL,QAAAA,GAAG,CAACuC,QAAJ,CAAa;AACXlC,UAAAA,KAAK,EAAE,KAAKH,KAAL,CAAWG,KADP;AAEXC,UAAAA,OAAO,EAAE,KAAKJ,KAAL,CAAWI,OAFT;AAGXE,UAAAA,WAAW,EAAE,KAAKN,KAAL,CAAWM,WAHb;AAIXgC,UAAAA,KAAK,EAAE,KAAKtC,KAAL,CAAWK,SAJP;AAKXA,UAAAA,SAAS,EAAE,KAAKL,KAAL,CAAWK,SALX;AAMXE,UAAAA,IAAI,EAAE,KAAKP,KAAL,CAAWO;AANN,SAAb,EAQGI,IARH,CAQQ,KAAK4B,cAAL,EARR,EASGpB,KATH,CASSC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAThB;AAUD;AACF,KAvEmC;;AAAA,SAyEpCoB,WAzEoC,GAyEtB,MAAM;AAClB,WAAK3B,QAAL,CAAc;AACZL,QAAAA,QAAQ,EAAE;AADE,OAAd;AAGD,KA7EmC;;AAAA,SA+EpC+B,cA/EoC,GA+EnB,MAAM;AACrB,UAAI,KAAKvC,KAAL,CAAWQ,QAAf,EAAyB;AACvB,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;AACF,KAnFmC;AAAA;;AAYpC;AACAiC,EAAAA,iBAAiB,GAAG;AAClB,SAAKhC,WAAL,CAAiB,sBAAjB;AACD;;AAsEDiC,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AACE,MAAA,OAAO,EAAE,KAAK1C,KAAL,CAAWG,KAAX,IAAoB,4BAD/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGG,KAAKH,KAAL,CAAWC,MAAX,GACC,oBAAC,UAAD;AACE,MAAA,KAAK,EAAE,KAAKD,KAAL,CAAWG,KADpB;AAEE,MAAA,SAAS,EAAE,KAAKH,KAAL,CAAWK,SAFxB;AAGE,MAAA,OAAO,EAAE,KAAKL,KAAL,CAAWI,OAHtB;AAIE,MAAA,WAAW,EAAE,KAAKJ,KAAL,CAAWM,WAJ1B;AAKE,MAAA,IAAI,EAAE,KAAKN,KAAL,CAAWO,IALnB;AAME,MAAA,cAAc,EAAE,KAAK6B,cANvB;AAOE,MAAA,cAAc,EAAE,KAAKH,cAPvB;AAQE,MAAA,WAAW,EAAE,KAAKU,EARpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAYC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAfJ,CADF,CADF,EAqBE,oBAAC,GAAD;AAAK,MAAA,IAAI,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,UAAD;AACE,MAAA,KAAK,EAAE,KAAK3C,KAAL,CAAWE,MADpB;AAEE,MAAA,iBAAiB,EAAE,KAAKwB,iBAF1B;AAGE,MAAA,gBAAgB,EAAE,KAAKK,gBAHzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,CArBF,CADF,CADF;AAmCD;;AAzHmC;;AA4HtC,eAAehC,aAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Container from \"./Container\";\nimport Row from \"./Row\";\nimport Col from \"./Col\";\nimport Card from \"./Card\";\nimport SearchForm from \"./SearchForm\";\nimport BookDetail from \"./BookDetail\";\nimport API from \"../../utils/API\";\nimport \"./style.css\";\n\nclass BookContainer extends Component {\n  state = {\n    result: {},\n    search: \"\",\n    title: \"\",\n    authors: \"\",\n    thumbnail: \"\",\n    description: \"\",\n    link: \"\",\n    redirect: false\n  };\n\n  // When this component mounts, search for the movie \"The Matrix\"\n  componentDidMount() {\n    this.searchBooks(\"Electric Blue Angels\");\n  }\n\n  searchBooks = query => {\n    API.search(query)\n      .then(res => this.setState({ result: res.data,\n      title : res.data.items[1].volumeInfo.title,\n      authors : res.data.items[1].volumeInfo.authors,\n      thumbnail : res.data.items[1].volumeInfo.imageLinks.thumbnail,\n      description : res.data.items[1].volumeInfo.description,\n      link : res.data.items[1].volumeInfo.previewLink\n     }))\n      .catch(err => console.log(err));\n  };\n\n  \n  loadBooks = () => {\n    API.getBooks()\n      .then(res =>\n        this.setState({ books: res.data, title: \"\", authors: \"\", description: \"\", thumbnail: \"\", link:\"\" })\n      )\n      .catch(err => console.log(err));\n  };\n\n  handleInputChange = event => {\n    const value = event.target.value;\n    const name = event.target.name;\n    this.setState({\n      [name]: value\n    });\n  };\n\n  // When the form is submitted, search the OMDB API for the value of `this.state.search`\n  handleFormSubmit = event => {\n    event.preventDefault();\n    this.searchBooks(this.state.search);\n    console.log(this.state.result.items[0].volumeInfo.imageLinks.thumbnail);\n  };\n\n  handleLocation = () => {\n    window.open(this.state.link);\n    };\n\n\n  handleFormSave = event => {\n    if (this.state.title) {\n      API.saveBook({\n        title: this.state.title,\n        authors: this.state.authors,\n        description: this.state.description,\n        image: this.state.thumbnail,\n        thumbnail: this.state.thumbnail,\n        link: this.state.link\n      })\n        .then(this.renderRedirect())\n        .catch(err => console.log(err));\n    }\n  };\n\n  setRedirect = () => {\n    this.setState({\n      redirect: true\n    })\n  };\n\n  renderRedirect = () => {\n    if (this.state.redirect) {\n      return <Redirect to='/' />\n    }\n  };\n\n  render() {\n    return (\n      <Container>\n        <Row>\n          <Col size=\"md-8\">\n            <Card\n              heading={this.state.title || \"Search for a Book to Begin\"}\n            >\n              {this.state.result ? (\n                <BookDetail\n                  title={this.state.title}\n                  thumbnail={this.state.thumbnail}\n                  authors={this.state.authors}\n                  description={this.state.description}\n                  link={this.state.link}\n                  handleFormSave={this.handleFormSave}\n                  handleLocation={this.handleLocation}\n                  setRedirect={this.se}\n                />\n              ) : (\n                <h3>No Results to Display</h3>\n              )}\n            </Card>\n          </Col>\n          <Col size=\"md-4\">\n            <Card heading=\"Search\">\n              <SearchForm\n                value={this.state.search}\n                handleInputChange={this.handleInputChange}\n                handleFormSubmit={this.handleFormSubmit}\n              />\n            </Card>\n          </Col>\n        </Row>\n      </Container>\n    );\n  }\n}\n\nexport default BookContainer;\n"]},"metadata":{},"sourceType":"module"}